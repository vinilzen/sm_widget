$(function(){var e="js/regions.json",a=$(".search input[type=text]"),t=$(".where-to-buy__towns");a.on("keyup",function(){var e=a.val();e.length>1?($("li",t).each(function(a,t){var n=$(t).attr("data-value").toLowerCase();0===n.indexOf(e.toLowerCase())?$(t).show():$(t).hide()}),t.fadeIn()):0==e.length&&t.fadeOut(400,function(){$("li",t).hide()})}),$(".where-to-buy__trigger").click(function(){$(".search").hasClass("show")?$(".search").fadeOut("fast").removeClass("show"):($(".search").fadeIn("fast").addClass("show"),a.focus(),$.get(e,function(e){t.empty(),e&&e.forEach(function(e){t.append('<li data-town-id="'+e.region_id+'" data-value="'+e.region+'"><a href="#">'+e.region+"</a></li>")})}))})});